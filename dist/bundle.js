!function(r){var t={};function e(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return r[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=r,e.c=t,e.d=function(r,t,n){e.o(r,t)||Object.defineProperty(r,t,{enumerable:!0,get:n})},e.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},e.t=function(r,t){if(1&t&&(r=e(r)),8&t)return r;if(4&t&&"object"==typeof r&&r&&r.__esModule)return r;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:r}),2&t&&"string"!=typeof r)for(var o in r)e.d(n,o,function(t){return r[t]}.bind(null,o));return n},e.n=function(r){var t=r&&r.__esModule?function(){return r.default}:function(){return r};return e.d(t,"a",t),t},e.o=function(r,t){return Object.prototype.hasOwnProperty.call(r,t)},e.p="/dist/",e(e.s=0)}([function(r,t,e){const n=e(1).AMDF();var o=null;function a(){if(null==o)return;const r=o.getChannelData(0);return n(r)}navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(r){var t=new AudioContext,e=t.createMediaStreamSource(r),n=t.createScriptProcessor(1024,1,1);e.connect(n),n.connect(t.destination),n.onaudioprocess=function(r){o=r.inputBuffer}}),function r(){let t=a();if(null!=t){let r=Math.round(t)+" Hz";document.getElementById("test").innerHTML=r}requestAnimationFrame(r)}()},function(r,t,e){r.exports=e(2)},function(r,t,e){"use strict";var n=e(3),o=e(4),a=e(5),i=e(6),u=e(7);r.exports={AMDF:n,YIN:o,DynamicWavelet:a,Macleod:i,frequencies:u}},function(r,t,e){"use strict";r.exports=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.sampleRate||44100,e=r.minFrequency||82,n=r.maxFrequency||1e3,o=r.sensitivity||.1,a=r.ratio||5,i=[],u=Math.round(t/e+.5),f=Math.round(t/n+.5);return function(r){var e=r.length,n=0,l=1/0,v=-1/0,c=void 0,s=void 0,d=void 0,h=void 0,p=void 0,g=void 0,b=void 0,y=void 0;for(h=0;h<e;h++)if(f<=h&&h<=u){for(b=0,y=h,n=0,c=[],s=[];b<e-h;n++,y++,b++)c[n]=r[b],s[n]=r[y];var m=c.length;for(d=[],g=0;g<m;g++)d[g]=c[g]-s[g];var M=0;for(g=0;g<m;g++)M+=Math.abs(d[g]);i[h]=M}for(p=f;p<u;p++)i[p]<l&&(l=i[p]),i[p]>v&&(v=i[p]);var x=Math.round(o*(v-l)+l);for(p=f;p<=u&&i[p]>x;p++);var w=f/2;l=i[p];var A=p;for(h=p-1;h<p+w&&h<=u;h++)i[h]<l&&(l=i[h],A=h);return Math.round(i[A]*a)<v?t/A:null}}},function(r,t,e){"use strict";r.exports=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.threshold||.1,e=r.sampleRate||44100,n=r.probabilityThreshold||.1;return function(r){var o=void 0;for(o=1;o<r.length;o*=2);for(var a=(o/=2)/2,i=new Float32Array(a),u=void 0,f=void 0,l=0;l<a;l++)i[l]=0;for(var v=1;v<a;v++)for(var c=0;c<a;c++){var s=r[c]-r[c+v];i[v]+=s*s}i[0]=1,i[1]=1;for(var d=0,h=1;h<a;h++)d+=i[h],i[h]*=h/d;for(f=2;f<a;f++)if(i[f]<t){for(;f+1<a&&i[f+1]<i[f];)f++;u=1-i[f];break}if(f==a||i[f]>=t)return null;if(u<n)return null;var p=void 0,g=void 0,b=void 0;if(b=f+1<a?f+1:f,(g=f<1?f:f-1)===f)p=i[f]<=i[b]?f:b;else if(b===f)p=i[f]<=i[g]?f:g;else{var y=i[g],m=i[f],M=i[b];p=f+(M-y)/(2*(2*m-M-y))}return e/p}}},function(r,t,e){"use strict";r.exports=function(){var r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).sampleRate||44100;return function(t){for(var e=[],n=[],o=t.length,a=null,i=0,u=0,f=0,l=0;l<o;l++){var v=t[l];i+=v,f=Math.max(f,v),u=Math.min(u,v)}for(var c=.75*((f-=i/=o)>-1*(u-=i)?f:-1*u),s=0,d=-1,h=t.length,p=void 0,g=void 0,b=void 0;p=~~(r/(3e3*Math.pow(2,s))),!(h<2);){var y=void 0,m=-1e3,M=-1e6,x=-1e6,w=!1,A=!1;b=0,g=0;for(var S=2;S<h;S++){var j=t[S]-i,F=t[S-1]-i;F<=0&&j>0&&(w=!0),F>=0&&j<0&&(A=!0),y=j-F,m>-1e3&&(A&&m<0&&y>=0&&Math.abs(j)>=c&&S>M+p&&(e[b++]=S,M=S,A=!1),w&&m>0&&y<=0&&Math.abs(j)>=c&&S>x+p&&(n[g++]=S,x=S,w=!1)),m=y}if(0===b&&0===g)break;for(var O=[],q=0;q<h;q++)O[q]=0;for(var P=0;P<b;P++)for(var _=1;_<3;_++)P+_<b&&(O[Math.abs(e[P]-e[P+_])]+=1);for(var k=-1,D=-1,R=0;R<h;R++){for(var T=0,z=-1*p;z<=p;z++)R+z>=0&&R+z<h&&(T+=O[R+z]);T===D?R===2*k&&(k=R):T>D&&(D=T,k=R)}for(var B=0,I=0,C=-p;C<=p;C++)if(k+C>=0&&k+C<o){var E=O[k+C];E>0&&(I+=E,B+=(k+C)*E)}if(B/=I,d>-1&&Math.abs(2*B-d)<=2*p){a=r/(Math.pow(2,s-1)*d);break}if(d=B,++s>=6||h<2)break;var H=t.subarray(0);h===O.length&&(H=new Float32Array(h/2));for(var L=0;L<h/2;L++)H[L]=(t[2*L]+t[2*L+1])/2;t=H,h/=2}return a}}},function(r,t,e){"use strict";r.exports=function(r){var t=(r=r||{}).cutoff||.97,e=r.sampleRate||44100,n=r.bufferSize||1024,o=new Float32Array(n),a=void 0,i=void 0,u=[],f=[],l=[],v={},c=function(r){var t=o[r-1],e=o[r],n=o[r+1],u=n+t-2*e;if(0===u)a=r,i=e;else{var f=t-n;a=r+f/(2*u),i=e-f*f/(8*u)}};return function(r){var n=void 0;u=[],f=[],l=[],function(r){for(var t=0;t<r.length;t++){for(var e=0,n=0,a=0;a<r.length-t;a++)e+=r[a]*r[a+t],n+=r[a]*r[a]+r[a+t]*r[a+t];o[t]=2*e/n}}(r),function(){for(var r=0,t=0;r<(o.length-1)/3&&o[r]>0;)r++;for(;r<o.length-1&&o[r]<=0;)r++;for(0==r&&(r=1);r<o.length-1;)if(o[r]>o[r-1]&&o[r]>=o[r+1]&&(0==t?t=r:o[r]>o[t]&&(t=r)),++r<o.length-1&&o[r]<=0)for(t>0&&(u.push(t),t=0);r<o.length-1&&o[r]<=0;)r++;t>0&&u.push(t)}();for(var s=-1/0,d=0;d<u.length;d++){var h=u[d];s=Math.max(s,o[h]),o[h]>.5&&(c(h),l.push(i),f.push(a),s=Math.max(s,i))}if(f.length){for(var p=t*s,g=0,b=0;b<l.length;b++)if(l[b]>=p){g=b;break}var y=f[g],m=e/y;n=m>80?m:-1}else n=-1;return v.probability=s,v.freq=n,v}}},function(r,t,e){"use strict";var n=function(){return function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return function(r,t){var e=[],n=!0,o=!1,a=void 0;try{for(var i,u=r[Symbol.iterator]();!(n=(i=u.next()).done)&&(e.push(i.value),!t||e.length!==t);n=!0);}catch(r){o=!0,a=r}finally{try{!n&&u.return&&u.return()}finally{if(o)throw a}}return e}(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();r.exports=function(r,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e.tempo||120,a=e.quantization||4,i=e.sampleRate||44100,u=t.length,f=Math.round(60*i/(a*o)),l=void 0;l=Array.isArray(r)?function(r,t){var e=r.map(function(r){return r(t)}).filter(Boolean).sort(function(r,t){return r<t?-1:1});if(1===e.length)return e[0];if(2===e.length){var o=n(e,2),a=o[0],i=o[1];return 2*a>i?Math.sqrt(a*i):a}var u=e[0],f=e[1],l=e[e.length-2],v=e[e.length-1],c=2*u>f?e:e.slice(1),s=2*l>v?c:c.slice(0,-1);return Math.pow(s.reduce(function(r,t){return r*t},1),1/s.length)}.bind(null,r):r;for(var v=[],c=0,s=u-f;c<=s;c+=f){var d=l(t.slice(c,c+f));v.push(d)}return v}}]);